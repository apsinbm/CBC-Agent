# CBC-Agent Environment Variables for Cloud Deployment

# ========================================
# CORE LLM CONFIGURATION (REQUIRED)
# ========================================

# Primary LLM Provider (Anthropic) - REQUIRED for all deployments
ANTHROPIC_API_KEY=your_anthropic_key_here
CLAUDE_API_MODEL=claude-sonnet-4-20250514

# Fallback LLM Provider (OpenAI) - OPTIONAL but recommended
OPENAI_API_KEY=your_openai_key_here
OPENAI_FALLBACK_MODEL=gpt-4o-mini

# LLM Provider Configuration
PRIMARY_PROVIDER=anthropic
FALLBACK_PROVIDER=openai
FALLBACK_ENABLED=true

# ========================================
# FEATURE FLAGS (All default to false)
# ========================================

# Email notifications for intake submissions
FEATURE_EMAIL_NOTIFICATIONS=false

# Calendar and knowledge base content ingestion
FEATURE_CALENDAR_INGEST=false

# Enhanced analytics with external providers
FEATURE_ANALYTICS=false

# ========================================
# EMAIL NOTIFICATIONS (Optional)
# ========================================

# Email provider: sendgrid|smtp|mailgun
EMAIL_PROVIDER=smtp

# Email configuration
EMAIL_FROM="Coral Beach Reception <reception@coralbeach.bm>"
RECEPTION_EMAILS="reception@coralbeach.bm,concierge@coralbeach.bm"
EMAIL_BCC=""
EMAIL_SUBJECT_PREFIX="[CBC Concierge] "
EMAIL_SEND_GUEST_COPY=false

# Staging safety - set to true to log emails without sending
EMAIL_DRY_RUN=true

# SMTP Configuration (existing, now documented for cloud use)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASS=your_app_password
SMTP_SECURE=false

# SendGrid Configuration
SENDGRID_API_KEY=your_sendgrid_api_key

# Mailgun Configuration  
MAILGUN_API_KEY=your_mailgun_api_key
MAILGUN_DOMAIN=your_mailgun_domain

# ========================================
# CALENDAR & KNOWLEDGE BASE INGEST
# ========================================

# Calendar ingestion mode: email|manual (start with manual)
CALENDAR_INGEST_MODE=manual

# Allowed email senders for calendar updates (future use)
CALENDAR_INGEST_ALLOWED_SENDERS="secretary@coralbeach.bm"

# File paths and backup directories
CALENDAR_BACKUP_DIR="server/data/calendar"
KB_PATH="data/cbc_knowledge.md"
KB_BACKUP_DIR="server/data/kb_backups"

# ========================================
# ANALYTICS CONFIGURATION
# ========================================

# Analytics provider: none|plausible|posthog|rudderstack|existing
ANALYTICS_PROVIDER=none

# Provider-specific configuration
ANALYTICS_DSN=your_analytics_dsn_here

# Privacy controls
ANALYTICS_PII_REDACTION=true

# Plausible configuration (if using)
PLAUSIBLE_DOMAIN=your_domain.com
PLAUSIBLE_API_KEY=your_plausible_api_key

# PostHog configuration (if using)
POSTHOG_API_KEY=your_posthog_api_key
POSTHOG_HOST=https://app.posthog.com

# ========================================
# EXISTING CONFIGURATION
# ========================================

# Weather Service Configuration
# Primary weather provider: openmeteo (free), weatherkit (Apple), openweather (OpenWeather)
WEATHER_PROVIDER=openmeteo

# Fallback provider (used when primary fails)
WEATHER_FALLBACK_PROVIDER=openmeteo

# WeatherKit Configuration (Apple Developer Account Required)
# Get these from: https://developer.apple.com/account/resources/authkeys/list
WEATHERKIT_TEAM_ID=your_team_id
WEATHERKIT_KEY_ID=your_key_id
WEATHERKIT_BUNDLE_ID=bm.cbc.agent
WEATHERKIT_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----
your_private_key_content_here
-----END PRIVATE KEY-----"

# OpenWeather Configuration
# Get API key from: https://openweathermap.org/api
OPENWEATHER_API_KEY=your_openweather_api_key
# Alternative variable name
WEATHER_API_KEY=your_openweather_api_key

# Email Configuration
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USER=your_email@gmail.com
EMAIL_PASS=your_app_password

# Next.js Configuration
NEXT_PUBLIC_URL=http://localhost:3000

# Development Settings
NODE_ENV=development